!function(a){function b(a,b){var c,d,e,f,g=!1,h=a.x,i=a.y;for(c=0,d=b.length-1;c<b.length;d=c++)e=b[c][1]>i,f=b[d][1]>i,e!==f&&h<(b[d][0]-b[c][0])*(i-b[c][1])/(b[d][1]-b[c][1])+b[c][0]&&(g=!g);return g}function c(a,b,c,d,e,f,g,h,i){return a=a["stroke-width"]%2/2,b-=a,c-=a,["M",b+f,c,"L",b+d-g,c,"C",b+d-g/2,c,b+d,c+g/2,b+d,c+g,"L",b+d,c+e-h,"C",b+d,c+e-h/2,b+d-h/2,c+e,b+d-h,c+e,"L",b+i,c+e,"C",b+i/2,c+e,b,c+e-i/2,b,c+e-i,"L",b,c+f,"C",b,c+f/2,b+f/2,c,b+f,c,"Z"]}var d=a.Axis,e=a.Chart,f=a.Color,g=a.Point,h=a.Pointer,i=a.Legend,j=a.LegendSymbolMixin,k=a.Renderer,l=a.Series,m=a.SVGRenderer,n=a.VMLRenderer,o=a.addEvent,p=a.each,q=a.error,r=a.extend,s=a.extendClass,t=a.merge,u=a.pick,v=a.getOptions(),w=a.seriesTypes,x=v.plotOptions,y=a.wrap,z=function(){};y(d.prototype,"getSeriesExtremes",function(a){var b,c,d,e=this.isXAxis,f=[];e&&p(this.series,function(a,b){a.useMapGeometry&&(f[b]=a.xData,a.xData=[])}),a.call(this),e&&(b=u(this.dataMin,Number.MAX_VALUE),c=u(this.dataMax,-Number.MAX_VALUE),p(this.series,function(a,e){a.useMapGeometry&&(b=Math.min(b,u(a.minX,b)),c=Math.max(c,u(a.maxX,b)),a.xData=f[e],d=!0)}),d)&&(this.dataMin=b,this.dataMax=c)}),y(d.prototype,"setAxisTranslation",function(a){var b=this.chart,c=b.plotWidth/b.plotHeight,d=b.xAxis[0];a.call(this),b.options.chart.preserveAspectRatio&&"yAxis"===this.coll&&void 0!==d.transA&&(this.transA=d.transA=Math.min(this.transA,d.transA),a=c/((d.max-d.min)/(this.max-this.min)),d=1>a?this:d,a=(d.max-d.min)*d.transA,d.pixelPadding=d.len-a,d.minPixelPadding=d.pixelPadding/2,a=d.fixTo)&&(a=a[1]-d.toValue(a[0],!0),a*=d.transA,(Math.abs(a)>d.minPixelPadding||d.min===d.dataMin&&d.max===d.dataMax)&&(a=0),d.minPixelPadding-=a)}),y(d.prototype,"render",function(a){a.call(this),this.fixTo=null});var A=a.ColorAxis=function(){this.isColorAxis=!0,this.init.apply(this,arguments)};r(A.prototype,d.prototype),r(A.prototype,{defaultColorAxisOptions:{lineWidth:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},color:"gray",width:.01},labels:{overflow:"justify"},minColor:"#EFEFFF",maxColor:"#003875",tickLength:5},init:function(a,b){var c,e="vertical"!==a.options.legend.layout;c=t(this.defaultColorAxisOptions,{side:e?2:1,reversed:!e},b,{isX:e,opposite:!e,showEmpty:!1,title:null,isColor:!0}),d.prototype.init.call(this,a,c),b.dataClasses&&this.initDataClasses(b),this.initStops(b),this.isXAxis=!0,this.horiz=e,this.zoomEnabled=!1},tweenColors:function(b,c,d){var e;return c.rgba.length&&b.rgba.length?(b=b.rgba,c=c.rgba,e=1!==c[3]||1!==b[3],b=(e?"rgba(":"rgb(")+Math.round(c[0]+(b[0]-c[0])*(1-d))+","+Math.round(c[1]+(b[1]-c[1])*(1-d))+","+Math.round(c[2]+(b[2]-c[2])*(1-d))+(e?","+(c[3]+(b[3]-c[3])*(1-d)):"")+")"):(a.error(23),b=c.raw),b},initDataClasses:function(a){var b,c=this,d=this.chart,e=0,g=this.options,h=a.dataClasses.length;this.dataClasses=b=[],this.legendItems=[],p(a.dataClasses,function(a,i){var j,a=t(a);b.push(a),a.color||("category"===g.dataClassColor?(j=d.options.colors,a.color=j[e++],e===j.length&&(e=0)):a.color=c.tweenColors(f(g.minColor),f(g.maxColor),2>h?.5:i/(h-1)))})},initStops:function(a){this.stops=a.stops||[[0,this.options.minColor],[1,this.options.maxColor]],p(this.stops,function(a){a.color=f(a[1])})},setOptions:function(a){d.prototype.setOptions.call(this,a),this.options.crosshair=this.options.marker,this.coll="colorAxis"},setAxisSize:function(){var a,b,c,d=this.legendSymbol,e=this.chart;d&&(this.left=a=d.attr("x"),this.top=b=d.attr("y"),this.width=c=d.attr("width"),this.height=d=d.attr("height"),this.right=e.chartWidth-a-c,this.bottom=e.chartHeight-b-d,this.len=this.horiz?c:d,this.pos=this.horiz?a:b)},toColor:function(a,b){var c,d,e,f,g=this.stops,h=this.dataClasses;if(h){for(f=h.length;f--;)if(e=h[f],d=e.from,g=e.to,(void 0===d||a>=d)&&(void 0===g||g>=a)){c=e.color,b&&(b.dataClass=f);break}}else{for(this.isLog&&(a=this.val2lin(a)),c=1-(this.max-a)/(this.max-this.min||1),f=g.length;f--&&!(c>g[f][0]););d=g[f]||g[f+1],g=g[f+1]||d,c=1-(g[0]-c)/(g[0]-d[0]||1),c=this.tweenColors(d.color,g.color,c)}return c},getOffset:function(){var a=this.legendGroup,b=this.chart.axisOffset[this.side];a&&(d.prototype.getOffset.call(this),this.axisGroup.parentGroup||(this.axisGroup.add(a),this.gridGroup.add(a),this.labelGroup.add(a),this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=b)},setLegendColor:function(){var a,b=this.options;a=this.reversed,a=this.horiz?[+a,0,+!a,0]:[0,+!a,0,+a],this.legendColor={linearGradient:{x1:a[0],y1:a[1],x2:a[2],y2:a[3]},stops:b.stops||[[0,b.minColor],[1,b.maxColor]]}},drawLegendSymbol:function(a,b){var c=a.padding,d=a.options,e=this.horiz,f=u(d.symbolWidth,e?200:12),g=u(d.symbolHeight,e?12:200),h=u(d.labelPadding,e?16:30),d=u(d.itemDistance,10);this.setLegendColor(),b.legendSymbol=this.chart.renderer.rect(0,a.baseline-11,f,g).attr({zIndex:1}).add(b.legendGroup),b.legendSymbol.getBBox(),this.legendItemWidth=f+c+(e?d:h),this.legendItemHeight=g+c+(e?h:0)},setState:z,visible:!0,setVisible:z,getSeriesExtremes:function(){var a;this.series.length&&(a=this.series[0],this.dataMin=a.valueMin,this.dataMax=a.valueMax)},drawCrosshair:function(a,b){var c,e=b&&b.plotX,f=b&&b.plotY,g=this.pos,h=this.len;b&&(c=this.toPixels(b[b.series.colorKey]),g>c?c=g-2:c>g+h&&(c=g+h+2),b.plotX=c,b.plotY=this.len-c,d.prototype.drawCrosshair.call(this,a,b),b.plotX=e,b.plotY=f,this.cross&&this.cross.attr({fill:this.crosshair.color}).add(this.legendGroup))},getPlotLinePath:function(a,b,c,e,f){return f?this.horiz?["M",f-4,this.top-6,"L",f+4,this.top-6,f,this.top,"Z"]:["M",this.left,f,"L",this.left-6,f+6,this.left-6,f-6,"Z"]:d.prototype.getPlotLinePath.call(this,a,b,c,e)},update:function(a,b){p(this.series,function(a){a.isDirtyData=!0}),d.prototype.update.call(this,a,b),this.legendItem&&(this.setLegendColor(),this.chart.legend.colorizeItem(this,!0))},getDataClassLegendSymbols:function(){var b,c=this,d=this.chart,e=this.legendItems,f=d.options.legend,g=f.valueDecimals,h=f.valueSuffix||"";return e.length||p(this.dataClasses,function(f,i){var k=!0,l=f.from,m=f.to;b="",void 0===l?b="< ":void 0===m&&(b="> "),void 0!==l&&(b+=a.numberFormat(l,g)+h),void 0!==l&&void 0!==m&&(b+=" - "),void 0!==m&&(b+=a.numberFormat(m,g)+h),e.push(r({chart:d,name:b,options:{},drawLegendSymbol:j.drawRectangle,visible:!0,setState:z,setVisible:function(){k=this.visible=!k,p(c.series,function(a){p(a.points,function(a){a.dataClass===i&&a.setVisible(k)})}),d.legend.colorizeItem(this,k)}},f))}),e},name:""}),p(["fill","stroke"],function(a){HighchartsAdapter.addAnimSetter(a,function(b){b.elem.attr(a,A.prototype.tweenColors(f(b.start),f(b.end),b.pos))})}),y(e.prototype,"getAxes",function(a){var b=this.options.colorAxis;a.call(this),this.colorAxis=[],b&&new A(this,b)}),y(i.prototype,"getAllItems",function(a){var b=[],c=this.chart.colorAxis[0];return c&&(c.options.dataClasses?b=b.concat(c.getDataClassLegendSymbols()):b.push(c),p(c.series,function(a){a.options.showInLegend=!1})),b.concat(a.call(this))}),i={pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",dashstyle:"dashStyle"},pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:z,parallelArrays:["x","y","value"],colorKey:"value",translateColors:function(){var a=this,b=this.options.nullColor,c=this.colorAxis,d=this.colorKey;p(this.data,function(e){var f=e[d];(f=null===f?b:c&&void 0!==f?c.toColor(f,e):e.color||a.color)&&(e.color=f)})}},r(e.prototype,{renderMapNavigation:function(){var a,b,c,d,e=this,f=this.options.mapNavigation,g=f.buttons,h=function(){this.handler.call(e)};if(u(f.enableButtons,f.enabled)&&!e.renderer.forExport)for(a in g)g.hasOwnProperty(a)&&(c=t(f.buttonOptions,g[a]),b=c.theme,b.style=t(c.theme.style,c.style),d=b.states,b=e.renderer.button(c.text,0,0,h,b,d&&d.hover,d&&d.select,0,"zoomIn"===a?"topbutton":"bottombutton").attr({width:c.width,height:c.height,title:e.options.lang[a],zIndex:5}).add(),b.handler=c.onclick,b.align(r(c,{width:b.width,height:2*b.height}),null,c.alignTo))},fitToBox:function(a,b){return p([["x","width"],["y","height"]],function(c){var d=c[0],c=c[1];a[d]+a[c]>b[d]+b[c]&&(a[c]>b[c]?(a[c]=b[c],a[d]=b[d]):a[d]=b[d]+b[c]-a[c]),a[c]>b[c]&&(a[c]=b[c]),a[d]<b[d]&&(a[d]=b[d])}),a},mapZoom:function(a,b,c,d,e){var f=this.xAxis[0],g=f.max-f.min,h=u(b,f.min+g/2),i=g*a,g=this.yAxis[0],j=g.max-g.min,k=u(c,g.min+j/2);j*=a,h=this.fitToBox({x:h-i*(d?(d-f.pos)/f.len:.5),y:k-j*(e?(e-g.pos)/g.len:.5),width:i,height:j},{x:f.dataMin,y:g.dataMin,width:f.dataMax-f.dataMin,height:g.dataMax-g.dataMin}),d&&(f.fixTo=[d-f.pos,b]),e&&(g.fixTo=[e-g.pos,c]),void 0!==a?(f.setExtremes(h.x,h.x+h.width,!1),g.setExtremes(h.y,h.y+h.height,!1)):(f.setExtremes(void 0,void 0,!1),g.setExtremes(void 0,void 0,!1)),this.redraw()}}),y(e.prototype,"render",function(a){var b=this,c=b.options.mapNavigation;b.renderMapNavigation(),a.call(b),(u(c.enableDoubleClickZoom,c.enabled)||c.enableDoubleClickZoomTo)&&o(b.container,"dblclick",function(a){b.pointer.onContainerDblClick(a)}),u(c.enableMouseWheelZoom,c.enabled)&&o(b.container,void 0===document.onmousewheel?"DOMMouseScroll":"mousewheel",function(a){return b.pointer.onContainerMouseWheel(a),!1})}),r(h.prototype,{onContainerDblClick:function(a){var b=this.chart,a=this.normalize(a);b.options.mapNavigation.enableDoubleClickZoomTo?b.pointer.inClass(a.target,"highcharts-tracker")&&b.hoverPoint.zoomTo():b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)&&b.mapZoom(.5,b.xAxis[0].toValue(a.chartX),b.yAxis[0].toValue(a.chartY),a.chartX,a.chartY)},onContainerMouseWheel:function(a){var b,c=this.chart,a=this.normalize(a);b=a.detail||-(a.wheelDelta/120),c.isInsidePlot(a.chartX-c.plotLeft,a.chartY-c.plotTop)&&c.mapZoom(Math.pow(2,b),c.xAxis[0].toValue(a.chartX),c.yAxis[0].toValue(a.chartY),a.chartX,a.chartY)}}),y(h.prototype,"init",function(a,b,c){a.call(this,b,c),u(c.mapNavigation.enableTouchZoom,c.mapNavigation.enabled)&&(this.pinchX=this.pinchHor=this.pinchY=this.pinchVert=this.hasZoom=!0)}),y(h.prototype,"pinchTranslate",function(a,b,c,d,e,f,g){a.call(this,b,c,d,e,f,g),"map"===this.chart.options.chart.type&&this.hasZoom&&(a=d.scaleX>d.scaleY,this.pinchTranslateDirection(!a,b,c,d,e,f,g,a?d.scaleX:d.scaleY))});var B=void 0!==document.documentElement.style.vectorEffect;x.map=t(x.scatter,{allAreas:!0,animation:!1,nullColor:"#F8F8F8",borderColor:"silver",borderWidth:1,marker:null,stickyTracking:!1,dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},turboThreshold:0,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{brightness:.2,halo:null}}});var C=s(g,{applyOptions:function(a,b){var c=g.prototype.applyOptions.call(this,a,b),d=this.series,e=d.joinBy;return d.mapData&&((e=void 0!==c[e[1]]&&d.mapMap[c[e[1]]])?(d.xyFromShape&&(c.x=e._midX,c.y=e._midY),r(c,e)):c.value=c.value||null),c},setVisible:function(a){var b=this,c=a?"show":"hide";p(["graphic","dataLabel"],function(a){b[a]&&b[a][c]()})},onMouseOver:function(a){clearTimeout(this.colorInterval),null!==this.value?g.prototype.onMouseOver.call(this,a):this.series.onMouseOut(a)},onMouseOut:function(){var a,b=this,c=+new Date,d=f(b.color),e=f(b.pointAttr.hover.fill),h=b.series.options.states.normal.animation,i=h&&(h.duration||500);i&&4===d.rgba.length&&4===e.rgba.length&&"select"!==b.state&&(a=b.pointAttr[""].fill,delete b.pointAttr[""].fill,clearTimeout(b.colorInterval),b.colorInterval=setInterval(function(){var a=(new Date-c)/i,f=b.graphic;a>1&&(a=1),f&&f.attr("fill",A.prototype.tweenColors.call(0,e,d,a)),a>=1&&clearTimeout(b.colorInterval)},13)),g.prototype.onMouseOut.call(b),a&&(b.pointAttr[""].fill=a)},zoomTo:function(){var a=this.series;a.xAxis.setExtremes(this._minX,this._maxX,!1),a.yAxis.setExtremes(this._minY,this._maxY,!1),a.chart.redraw()}});w.map=s(w.scatter,t(i,{type:"map",pointClass:C,supportsDrilldown:!0,getExtremesFromAll:!0,useMapGeometry:!0,forceDL:!0,searchPoint:z,getBox:function(b){var c,d=Number.MAX_VALUE,e=-d,f=d,g=-d,h=d,i=d,j=this.xAxis,k=this.yAxis;p(b||[],function(b){if(b.path){"string"==typeof b.path&&(b.path=a.splitPath(b.path));var j=b.path||[],k=j.length,l=!1,m=-d,n=d,o=-d,p=d,q=b.properties;if(!b._foundBox){for(;k--;)"number"==typeof j[k]&&!isNaN(j[k])&&(l?(m=Math.max(m,j[k]),n=Math.min(n,j[k])):(o=Math.max(o,j[k]),p=Math.min(p,j[k])),l=!l);b._midX=n+(m-n)*(b.middleX||q&&q["hc-middle-x"]||.5),b._midY=p+(o-p)*(b.middleY||q&&q["hc-middle-y"]||.5),b._maxX=m,b._minX=n,b._maxY=o,b._minY=p,b.labelrank=u(b.labelrank,(m-n)*(o-p)),b._foundBox=!0}e=Math.max(e,b._maxX),f=Math.min(f,b._minX),g=Math.max(g,b._maxY),h=Math.min(h,b._minY),i=Math.min(b._maxX-b._minX,b._maxY-b._minY,i),c=!0}}),c?(this.minY=Math.min(h,u(this.minY,d)),this.maxY=Math.max(g,u(this.maxY,-d)),this.minX=Math.min(f,u(this.minX,d)),this.maxX=Math.max(e,u(this.maxX,-d)),j&&void 0===j.options.minRange&&(j.minRange=Math.min(5*i,(this.maxX-this.minX)/5,j.minRange||d)),k&&void 0===k.options.minRange&&(k.minRange=Math.min(5*i,(this.maxY-this.minY)/5,k.minRange||d))):this.maxX=this.minX=this.maxY=this.minY=void 0},getExtremes:function(){l.prototype.getExtremes.call(this,this.valueData),this.chart.hasRendered&&this.isDirtyData&&this.getBox(this.options.data),this.valueMin=this.dataMin,this.valueMax=this.dataMax,this.dataMin=this.minY,this.dataMax=this.maxY},translatePath:function(a){var b,c=!1,d=this.xAxis,e=this.yAxis,f=d.min,g=d.transA,d=d.minPixelPadding,h=e.min,i=e.transA,e=e.minPixelPadding,j=[];if(a)for(b=a.length;b--;)"number"==typeof a[b]?(j[b]=c?(a[b]-f)*g+d:(a[b]-h)*i+e,c=!c):j[b]=a[b];return j},setData:function(b,c){var d,e,f,g=this.options,h=g.mapData,i=g.joinBy,j=null===i,k=[];if(j&&(i="_i"),i=this.joinBy=a.splat(i),i[1]||(i[1]=i[0]),b&&p(b,function(a,c){"number"==typeof a&&(b[c]={value:a}),j&&(b[c]._i=c)}),this.getBox(b),h){if("FeatureCollection"===h.type){if(h["hc-transform"])for(d in this.chart.mapTransforms=e=h["hc-transform"],e)e.hasOwnProperty(d)&&d.rotation&&(d.cosAngle=Math.cos(d.rotation),d.sinAngle=Math.sin(d.rotation));h=a.geojson(h,this.type,this)}for(this.getBox(h),this.mapData=h,this.mapMap={},f=0;f<h.length;f++)d=h[f],e=d.properties,d._i=f,i[0]&&e&&e[i[0]]&&(d[i[0]]=e[i[0]]),this.mapMap[d[i[0]]]=d;g.allAreas&&(b=b||[],i[1]&&p(b,function(a){k.push(a[i[1]])}),k="|"+k.join("|")+"|",p(h,function(a){(!i[0]||-1===k.indexOf("|"+a[i[0]]+"|"))&&b.push(t(a,{value:null}))}))}l.prototype.setData.call(this,b,c)},drawGraph:z,drawDataLabels:z,doFullTranslate:function(){return this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||!this.baseTrans},translate:function(){var a=this,b=a.xAxis,c=a.yAxis,d=a.doFullTranslate();a.generatePoints(),p(a.data,function(e){e.plotX=b.toPixels(e._midX,!0),e.plotY=c.toPixels(e._midY,!0),d&&(e.shapeType="path",e.shapeArgs={d:a.translatePath(e.path)},B&&(e.shapeArgs["vector-effect"]="non-scaling-stroke"))}),a.translateColors()},drawPoints:function(){var a,b=this,c=b.xAxis,d=b.yAxis,e=b.group,f=b.chart,g=f.renderer,h=this.baseTrans;b.transformGroup||(b.transformGroup=g.g().attr({scaleX:1,scaleY:1}).add(e)),b.doFullTranslate()?(f.hasRendered&&"color"===b.pointAttrToOptions.fill&&p(b.points,function(a){a.graphic&&a.graphic.attr("fill",a.color)}),B||p(b.points,function(a){a=a.pointAttr[""],a["stroke-width"]===b.pointAttr[""]["stroke-width"]&&(a["stroke-width"]="inherit")}),b.group=b.transformGroup,w.column.prototype.drawPoints.apply(b),b.group=e,p(b.points,function(a){a.graphic&&(a.name&&a.graphic.addClass("highcharts-name-"+a.name.replace(" ","-").toLowerCase()),a.properties&&a.properties["hc-key"]&&a.graphic.addClass("highcharts-key-"+a.properties["hc-key"].toLowerCase()),B||(a.graphic["stroke-widthSetter"]=z))}),this.baseTrans={originX:c.min-c.minPixelPadding/c.transA,originY:d.min-d.minPixelPadding/d.transA+(d.reversed?0:d.len/d.transA),transAX:c.transA,transAY:d.transA},this.transformGroup.animate({translateX:0,translateY:0,scaleX:1,scaleY:1})):(a=c.transA/h.transAX,e=d.transA/h.transAY,c=c.toPixels(h.originX,!0),d=d.toPixels(h.originY,!0),a>.99&&1.01>a&&e>.99&&1.01>e&&(e=a=1,c=Math.round(c),d=Math.round(d)),this.transformGroup.animate({translateX:c,translateY:d,scaleX:a,scaleY:e})),B||b.group.element.setAttribute("stroke-width",b.options.borderWidth/(a||1)),this.drawMapDataLabels()},drawMapDataLabels:function(){l.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},render:function(){var a=this,b=l.prototype.render;a.chart.renderer.isVML&&a.data.length>3e3?setTimeout(function(){b.call(a)}):b.call(a)},animate:function(a){var b=this.options.animation,c=this.group,d=this.xAxis,e=this.yAxis,f=d.pos,g=e.pos;this.chart.renderer.isSVG&&(b===!0&&(b={duration:1e3}),a?c.attr({translateX:f+d.len/2,translateY:g+e.len/2,scaleX:.001,scaleY:.001}):(c.animate({translateX:f,translateY:g,scaleX:1,scaleY:1},b),this.animate=null))},animateDrilldown:function(a){var b=this.chart.plotBox,c=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],d=c.bBox,e=this.chart.options.drilldown.animation;a||(a=Math.min(d.width/b.width,d.height/b.height),c.shapeArgs={scaleX:a,scaleY:a,translateX:d.x,translateY:d.y},p(this.points,function(a){a.graphic.attr(c.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},e)}),this.animate=null)},drawLegendSymbol:j.drawRectangle,animateDrillupFrom:function(a){w.column.prototype.animateDrillupFrom.call(this,a)},animateDrillupTo:function(a){w.column.prototype.animateDrillupTo.call(this,a)}})),x.mapline=t(x.map,{lineWidth:1,fillColor:"none"}),w.mapline=s(w.map,{type:"mapline",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth",fill:"fillColor",dashstyle:"dashStyle"},drawLegendSymbol:w.line.prototype.drawLegendSymbol}),x.mappoint=t(x.scatter,{dataLabels:{enabled:!0,formatter:function(){return this.point.name},crop:!1,defer:!1,overflow:!1,style:{color:"#000000"}}}),w.mappoint=s(w.scatter,{type:"mappoint",forceDL:!0,pointClass:s(g,{applyOptions:function(a,b){var c=g.prototype.applyOptions.call(this,a,b);return void 0!==a.lat&&void 0!==a.lon&&(c=r(c,this.series.chart.fromLatLonToPoint(c))),c}})}),w.bubble&&(x.mapbubble=t(x.bubble,{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}}),w.mapbubble=s(w.bubble,{pointClass:s(g,{applyOptions:function(a,b){var c;return void 0!==a.lat&&void 0!==a.lon?(c=g.prototype.applyOptions.call(this,a,b),c=r(c,this.series.chart.fromLatLonToPoint(c))):c=C.prototype.applyOptions.call(this,a,b),c},ttBelow:!1}),xyFromShape:!0,type:"mapbubble",pointArrayMap:["z"],getMapData:w.map.prototype.getMapData,getBox:w.map.prototype.getBox,setData:w.map.prototype.setData})),v.plotOptions.heatmap=t(v.plotOptions.scatter,{animation:!1,borderWidth:0,nullColor:"#F8F8F8",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{halo:!1,brightness:.2}}}),w.heatmap=s(w.scatter,t(i,{type:"heatmap",pointArrayMap:["y","value"],hasPointSpecificOptions:!0,supportsDrilldown:!0,getExtremesFromAll:!0,init:function(){w.scatter.prototype.init.apply(this,arguments),this.pointRange=this.options.colsize||1,this.yAxis.axisPointRange=this.options.rowsize||1},translate:function(){var a=this.options,b=this.xAxis,c=this.yAxis;this.generatePoints(),p(this.points,function(d){var e=(a.colsize||1)/2,f=(a.rowsize||1)/2,g=Math.round(b.len-b.translate(d.x-e,0,1,0,1)),e=Math.round(b.len-b.translate(d.x+e,0,1,0,1)),h=Math.round(c.translate(d.y-f,0,1,0,1)),f=Math.round(c.translate(d.y+f,0,1,0,1));d.plotX=(g+e)/2,d.plotY=(h+f)/2,d.shapeType="rect",d.shapeArgs={x:Math.min(g,e),y:Math.min(h,f),width:Math.abs(e-g),height:Math.abs(f-h)}}),this.translateColors(),this.chart.hasRendered&&p(this.points,function(a){a.shapeArgs.fill=a.options.color||a.color})},drawPoints:w.column.prototype.drawPoints,animate:z,getBox:z,drawLegendSymbol:j.drawRectangle,getExtremes:function(){l.prototype.getExtremes.call(this,this.valueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,l.prototype.getExtremes.call(this)}})),e.prototype.transformFromLatLon=function(a,b){if(void 0===window.proj4)return q(21),{x:0,y:null};var c=window.proj4(b.crs,[a.lon,a.lat]),d=b.cosAngle||b.rotation&&Math.cos(b.rotation),e=b.sinAngle||b.rotation&&Math.sin(b.rotation),c=b.rotation?[c[0]*d+c[1]*e,-c[0]*e+c[1]*d]:c;return{x:((c[0]-(b.xoffset||0))*(b.scale||1)+(b.xpan||0))*(b.jsonres||1)+(b.jsonmarginX||0),y:(((b.yoffset||0)-c[1])*(b.scale||1)+(b.ypan||0))*(b.jsonres||1)-(b.jsonmarginY||0)}},e.prototype.transformToLatLon=function(a,b){if(void 0!==window.proj4){var c={x:((a.x-(b.jsonmarginX||0))/(b.jsonres||1)-(b.xpan||0))/(b.scale||1)+(b.xoffset||0),y:((-a.y-(b.jsonmarginY||0))/(b.jsonres||1)+(b.ypan||0))/(b.scale||1)+(b.yoffset||0)},d=b.cosAngle||b.rotation&&Math.cos(b.rotation),e=b.sinAngle||b.rotation&&Math.sin(b.rotation),c=window.proj4(b.crs,"WGS84",b.rotation?{x:c.x*d+c.y*-e,y:c.x*e+c.y*d}:c);return{lat:c.y,lon:c.x}}q(21)},e.prototype.fromPointToLatLon=function(a){var c,d=this.mapTransforms;if(d){for(c in d)if(d.hasOwnProperty(c)&&d[c].hitZone&&b({x:a.x,y:-a.y},d[c].hitZone.coordinates[0]))return this.transformToLatLon(a,d[c]);return this.transformToLatLon(a,d["default"])}q(22)},e.prototype.fromLatLonToPoint=function(a){var c,d,e=this.mapTransforms;if(!e)return q(22),{x:0,y:null};for(c in e)if(e.hasOwnProperty(c)&&e[c].hitZone&&(d=this.transformFromLatLon(a,e[c]),b({x:d.x,y:-d.y},e[c].hitZone.coordinates[0])))return d;return this.transformFromLatLon(a,e["default"])},a.geojson=function(a,b,c){var d=[],e=[],f=function(a){var b=0,c=a.length;for(e.push("M");c>b;b++)1===b&&e.push("L"),e.push(a[b][0],-a[b][1])},b=b||"map";return p(a.features,function(a){var c,g=a.geometry,h=g.type,g=g.coordinates,a=a.properties;e=[],"map"===b||"mapbubble"===b?("Polygon"===h?(p(g,f),e.push("Z")):"MultiPolygon"===h&&(p(g,function(a){p(a,f)}),e.push("Z")),e.length&&(c={path:e})):"mapline"===b?("LineString"===h?f(g):"MultiLineString"===h&&p(g,f),e.length&&(c={path:e})):"mappoint"===b&&"Point"===h&&(c={x:g[0],y:-g[1]}),c&&d.push(r(c,{name:a.name||a.NAME,properties:a}))}),c&&a.copyrightShort&&(c.chart.mapCredits='<a href="http://www.highcharts.com">Highcharts</a> Â© <a href="'+a.copyrightUrl+'">'+a.copyrightShort+"</a>",c.chart.mapCreditsFull=a.copyright),d},y(e.prototype,"showCredits",function(a,b){v.credits.text===this.options.credits.text&&this.mapCredits&&(b.text=this.mapCredits,b.href=null),a.call(this,b),this.credits&&this.credits.attr({title:this.mapCreditsFull})}),r(v.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),v.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,style:{fontSize:"15px",fontWeight:"bold",textAlign:"center"},theme:{"stroke-width":1}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}}},a.splitPath=function(a){var b,a=a.replace(/([A-Za-z])/g," $1 "),a=a.replace(/^\s*/,"").replace(/\s*$/,""),a=a.split(/[ ,]+/);for(b=0;b<a.length;b++)/[a-zA-Z]/.test(a[b])||(a[b]=parseFloat(a[b]));return a},a.maps={},m.prototype.symbols.topbutton=function(a,b,d,e,f){return c(f,a,b,d,e,f.r,f.r,0,0)},m.prototype.symbols.bottombutton=function(a,b,d,e,f){return c(f,a,b,d,e,0,0,f.r,f.r)},k===n&&p(["topbutton","bottombutton"],function(a){n.prototype.symbols[a]=m.prototype.symbols[a]}),a.Map=function(a,b){var c,d={endOnTick:!1,gridLineWidth:0,lineWidth:0,minPadding:0,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]};return c=a.series,a.series=null,a=t({chart:{panning:"xy",type:"map"},xAxis:d,yAxis:t(d,{reversed:!0})},a,{chart:{inverted:!1,alignTicks:!1,preserveAspectRatio:!0}}),a.series=c,new e(a,b)}}(Highcharts);